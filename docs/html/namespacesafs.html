<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>FlashGraph-ng: safs Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FlashGraph-ng
   </div>
   <div id="projectbrief">A new frontier in large-scale graph analysis and data mining</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">safs Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1page__byte__array.html">page_byte_array</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1comp__io__scheduler.html">comp_io_scheduler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1direct__comp__io.html">direct_comp_io</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1callback.html">callback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1io__status.html">io_status</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1io__interface.html">io_interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1io__select.html">io_select</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1comp__io__sched__creator.html">comp_io_sched_creator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1file__io__factory.html">file_io_factory</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1data__loc__t.html">data_loc_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1request__range.html">request_range</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1user__compute.html">user_compute</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1compute__allocator.html">compute_allocator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1io__request.html">io_request</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsafs_1_1memory__manager.html">memory_manager</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8d6d4d5f1c7d149e66c5ecab147903fe"><td class="memItemLeft" align="right" valign="top">typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a8d6d4d5f1c7d149e66c5ecab147903fe">file_id_t</a></td></tr>
<tr class="separator:a8d6d4d5f1c7d149e66c5ecab147903fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae059fd4cd3a0fa063fb9147788b280f6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ , <a class="el" href="namespacesafs.html#ae059fd4cd3a0fa063fb9147788b280f6a4424a1af47b8e689285c95666d940076">REMOTE_ACCESS</a>, 
<a class="el" href="namespacesafs.html#ae059fd4cd3a0fa063fb9147788b280f6a9cc78ceec7a3848a4c69407f2264da65">GLOBAL_CACHE_ACCESS</a>, 
<a class="el" href="namespacesafs.html#ae059fd4cd3a0fa063fb9147788b280f6ab94a11a305a6cafa88431d0360b02568">PART_GLOBAL_ACCESS</a>, 
<a class="el" href="namespacesafs.html#ae059fd4cd3a0fa063fb9147788b280f6af3a028be4bd853384334286414286f18">DIRECT_COMP_ACCESS</a>
 }</td></tr>
<tr class="separator:ae059fd4cd3a0fa063fb9147788b280f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a406579389d46331feb42115f84ca0798"><td class="memItemLeft" align="right" valign="top">io_interface::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a406579389d46331feb42115f84ca0798">create_io</a> (std::shared_ptr&lt; <a class="el" href="classsafs_1_1file__io__factory.html">file_io_factory</a> &gt; factory, thread *t)</td></tr>
<tr class="separator:a406579389d46331feb42115f84ca0798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f691ff2d32168f74b2eb2ff1929c2f5"><td class="memItemLeft" align="right" valign="top">file_io_factory::shared_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a3f691ff2d32168f74b2eb2ff1929c2f5">create_io_factory</a> (const std::string &amp;file_name, const int access_option)</td></tr>
<tr class="separator:a3f691ff2d32168f74b2eb2ff1929c2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf78834a871e392a02c4ac80a5120943"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#acf78834a871e392a02c4ac80a5120943">init_io_system</a> (config_map::ptr map, bool with_cache=true)</td></tr>
<tr class="separator:acf78834a871e392a02c4ac80a5120943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0576750bc3c23e764d8b70f9228365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a5b0576750bc3c23e764d8b70f9228365">destroy_io_system</a> ()</td></tr>
<tr class="separator:a5b0576750bc3c23e764d8b70f9228365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc853d510514fad9d1f513308976cd6b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#acc853d510514fad9d1f513308976cd6b">is_safs_init</a> ()</td></tr>
<tr class="separator:acc853d510514fad9d1f513308976cd6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19cea5e1b37ff68a9f41367797dbce0"><td class="memItemLeft" align="right" valign="top">const RAID_config &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#ad19cea5e1b37ff68a9f41367797dbce0">get_sys_RAID_conf</a> ()</td></tr>
<tr class="separator:ad19cea5e1b37ff68a9f41367797dbce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231ed69cb6a1d2c8b5669166e4a3274c"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a231ed69cb6a1d2c8b5669166e4a3274c">get_io_cpus</a> ()</td></tr>
<tr class="separator:a231ed69cb6a1d2c8b5669166e4a3274c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64459878925c8baceac1bd7c6b8c733b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a64459878925c8baceac1bd7c6b8c733b">print_io_summary</a> ()</td></tr>
<tr class="separator:a64459878925c8baceac1bd7c6b8c733b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659e22e77cce119be36e70f5358caae5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a659e22e77cce119be36e70f5358caae5">set_file_weight</a> (const std::string &amp;file_name, int weight)</td></tr>
<tr class="separator:a659e22e77cce119be36e70f5358caae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9d73014cf5d5c8ca3f96df1337d20561"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a9d73014cf5d5c8ca3f96df1337d20561">INVALID_FILE_ID</a> = -1</td></tr>
<tr class="separator:a9d73014cf5d5c8ca3f96df1337d20561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e752f3057025d3d64b8c33fc4bca33"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a88e752f3057025d3d64b8c33fc4bca33">IO_QUEUE_SIZE</a> = 10</td></tr>
<tr class="separator:a88e752f3057025d3d64b8c33fc4bca33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab42ae6aa2b530f9467df2c9a0421eb7"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#aab42ae6aa2b530f9467df2c9a0421eb7">MAX_NUM_FLUSHES_PER_FILE</a> = 2048</td></tr>
<tr class="separator:aab42ae6aa2b530f9467df2c9a0421eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9dfbe0d09ab11b7d952039dc0e0a8ed"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#ad9dfbe0d09ab11b7d952039dc0e0a8ed">NUM_REQS_BY_USER</a> = 1000</td></tr>
<tr class="separator:ad9dfbe0d09ab11b7d952039dc0e0a8ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a25545a4acb7b78e5b61bc67abcbbd"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesafs.html#a49a25545a4acb7b78e5b61bc67abcbbd">MIN_NUM_ALLOC_IOVECS</a> = 16</td></tr>
<tr class="separator:a49a25545a4acb7b78e5b61bc67abcbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright 2014 Open Connectome Project (<a href="http://openconnecto.me">http://openconnecto.me</a>) Written by Da Zheng (<a href="#" onclick="location.href='mai'+'lto:'+'zhe'+'ng'+'da1'+'93'+'6@g'+'ma'+'il.'+'co'+'m'; return false;">zheng<span style="display: none;">.nosp@m.</span>da19<span style="display: none;">.nosp@m.</span>36@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a>)</p>
<p>This file is part of SAFSlib.</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p>
<pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a8d6d4d5f1c7d149e66c5ecab147903fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="namespacesafs.html#a8d6d4d5f1c7d149e66c5ecab147903fe">safs::file_id_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The data type for a SAFS file identifier. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ae059fd4cd3a0fa063fb9147788b280f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This defines the method of accessing a SAFS file. There are six options. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ae059fd4cd3a0fa063fb9147788b280f6a4424a1af47b8e689285c95666d940076"></a>REMOTE_ACCESS</em>&#160;</td><td class="fielddoc">
<p>This method is equivalent to Linux direct I/O. It accesses data in a SAFS file without caching. It only supports asynchronous I/O. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae059fd4cd3a0fa063fb9147788b280f6a9cc78ceec7a3848a4c69407f2264da65"></a>GLOBAL_CACHE_ACCESS</em>&#160;</td><td class="fielddoc">
<p>This method is equivalent to Linux buffered I/O. It accesses data in a SAFS file with caching. It supports both synchronous I/O and asynchronous I/O. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae059fd4cd3a0fa063fb9147788b280f6ab94a11a305a6cafa88431d0360b02568"></a>PART_GLOBAL_ACCESS</em>&#160;</td><td class="fielddoc">
<p>This method also accesses a SAFS file with caching. It localizes data access in the page cache. The implementation of this method is incomplete right now, so it shouldn't be used. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae059fd4cd3a0fa063fb9147788b280f6af3a028be4bd853384334286414286f18"></a>DIRECT_COMP_ACCESS</em>&#160;</td><td class="fielddoc">
<p>This method accesses a SAFS file with asynchronous user-task interface, but without page cache. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a406579389d46331feb42115f84ca0798"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">io_interface::ptr safs::create_io </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; file_io_factory &gt;&#160;</td>
          <td class="paramname"><em>factory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">thread *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function creates an I/O instance from the I/O factory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">factory</td><td>the I/O factory for creating an I/O instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an I/O instance. </dd></dl>

</div>
</div>
<a class="anchor" id="a3f691ff2d32168f74b2eb2ff1929c2f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_io_factory::shared_ptr safs::create_io_factory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>access_option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function creates an I/O factory of the specified I/O method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>the SAFS file accessed by the I/O factory. </td></tr>
    <tr><td class="paramname">access_option</td><td>the I/O method of accessing the SAFS file. The I/O method can be one of REMOTE_ACCESS, GLOBAL_CACHE_ACCESS and PART_GLOBAL_ACCESS. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5b0576750bc3c23e764d8b70f9228365"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void safs::destroy_io_system </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function destroys SAFS. It should be called at the end of a program. </p>

</div>
</div>
<a class="anchor" id="a231ed69cb6a1d2c8b5669166e4a3274c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;int&gt;&amp; safs::get_io_cpus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the CPU cores that are used for I/O dedicatedly. </p>

</div>
</div>
<a class="anchor" id="ad19cea5e1b37ff68a9f41367797dbce0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const RAID_config&amp; safs::get_sys_RAID_conf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the RAID configuration of SAFS. </p>

</div>
</div>
<a class="anchor" id="acf78834a871e392a02c4ac80a5120943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void safs::init_io_system </td>
          <td>(</td>
          <td class="paramtype">config_map::ptr&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_cache</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes SAFS. It should be called at the beginning of a program. It can be invoked multiple times. If it is executed multiple time successfully, <a class="el" href="namespacesafs.html#a5b0576750bc3c23e764d8b70f9228365">destroy_io_system()</a> needs to be invoked the same number of times to complete clean up the I/O system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>the SAFS configuration. </td></tr>
    <tr><td class="paramname">with_cache</td><td>determine whether the I/O system is initialized with page cache. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acc853d510514fad9d1f513308976cd6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool safs::is_safs_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function tells whether SAFS is initialized successfully. </p>

</div>
</div>
<a class="anchor" id="a64459878925c8baceac1bd7c6b8c733b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void safs::print_io_summary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function prints the summary info on I/O statistics in the system. </p>

</div>
</div>
<a class="anchor" id="a659e22e77cce119be36e70f5358caae5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void safs::set_file_weight </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>weight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The users can set the weight of a file. The file weight is used by the page cache. The file with a higher weight can have its data in the page cache longer. This function isn't thread-safe and should be used before I/O instances are created. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>The file name. </td></tr>
    <tr><td class="paramname">weight</td><td>The new weight of the file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a9d73014cf5d5c8ca3f96df1337d20561"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int safs::INVALID_FILE_ID = -1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invalid SAFS file identifier. </p>

</div>
</div>
<a class="anchor" id="a88e752f3057025d3d64b8c33fc4bca33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int safs::IO_QUEUE_SIZE = 10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The size of a high-priority I/O queue. It's in the number of I/O messages. </p>

</div>
</div>
<a class="anchor" id="aab42ae6aa2b530f9467df2c9a0421eb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int safs::MAX_NUM_FLUSHES_PER_FILE = 2048</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This number defines the max number of flushes sent to an SSD. The number is set based on the performance result. It varies in different SSDs. It's better that we can estimate at runtime. </p>

</div>
</div>
<a class="anchor" id="a49a25545a4acb7b78e5b61bc67abcbbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int safs::MIN_NUM_ALLOC_IOVECS = 16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The min size of IO vector allocated for an IO request.. </p>

</div>
</div>
<a class="anchor" id="ad9dfbe0d09ab11b7d952039dc0e0a8ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int safs::NUM_REQS_BY_USER = 1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of requests issued by user applications in one access. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 13 2015 13:13:16 for FlashGraph-ng by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
